<app-header></app-header>
<div class="text-center">
  <h3>{{pageName}}</h3><br>
</div>


<mat-paginator #paginator [label]='person' [length]="length" [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions"
  (page)="pageEvent($event)" [hidePageSize]="hidePageSize" [showFirstLastButtons]="showFirstLastButtons"
  class="mat-paginator-container">
</mat-paginator>


<div class="d-flex justify-content-center form_container">
  <form [formGroup]="accountDetailsForm" novalidate (ngSubmit)="onSubmitAccountDetails(accountDetailsForm.value)"
    [loader]="isLoading">

    <!--Personal Bio-Data-->

    <mat-form-field class="full-width">
      <input matInput type="text" placeholder="Last Name" formControlName="lastname" required>
      <mat-error *ngFor="let validation of account_validation_messages.lastname">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('lastname').hasError(validation.type) && (accountDetailsForm.get('lastname').dirty || accountDetailsForm.get('lastname').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-select-country formControlName="nationality" name="nationality" matInput placeholder="Nationality" required>
      </mat-select-country>
      <mat-error class="error-message" *ngIf="accountDetailsForm.controls['nationality'].hasError('required')">
        Nationality is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>Gender</mat-label>
      <mat-select formControlName="gender" name="gender" matInput placeholder="Gender" required>
        <mat-option *ngFor="let gender of genders" [value]="gender.value">
          {{gender.viewValue}}
        </mat-option>
      </mat-select>
      <mat-error class="error-message" *ngIf="accountDetailsForm.controls['gender'].hasError('required')">Gender is
        required</mat-error>
    </mat-form-field>


    <mat-form-field class="full-width">
      <input matInput type="text" placeholder="First Name" formControlName="firstname" required>
      <mat-error *ngFor="let validation of account_validation_messages.firstname">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('firstname').hasError(validation.type) && (accountDetailsForm.get('firstname').dirty || accountDetailsForm.get('firstname').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput type="number" placeholder="National Identification" formControlName="IDnumber" required>
      <mat-error *ngFor="let validation of account_validation_messages.IDnumber">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('IDnumber').hasError(validation.type) && (accountDetailsForm.get('IDnumber').dirty || accountDetailsForm.get('IDnumber').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput type="number" placeholder="Phone Number" formControlName="phonenumber" required>
      <mat-error *ngFor="let validation of account_validation_messages.phonenumber">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('phonenumber').hasError(validation.type) && (accountDetailsForm.get('phonenumber').dirty || accountDetailsForm.get('phonenumber').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput type="email" placeholder="Email" formControlName="email" required>
      <mat-error *ngFor="let validation of account_validation_messages.email">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('email').hasError(validation.type) && (accountDetailsForm.get('email').dirty || accountDetailsForm.get('email').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput [matDatepicker]="picker" formControlName="dateofbirth" name="dateofbirth" matInput
        placeholder="Choose a date" required>
      <mat-datepicker-toggle matSuffix [for]="picker">
        <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
      </mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error class="error-message" *ngIf="accountDetailsForm.controls['dateofbirth'].hasError('required')">
        Date of birth is required
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput type="text" placeholder="Address" formControlName="address" required>
      <mat-error *ngFor="let validation of account_validation_messages.address">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('address').hasError(validation.type) && (accountDetailsForm.get('address').dirty || accountDetailsForm.get('address').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>


    <!--Work Experience-->

    <div formGroupName="workExperienceForm">
      <mat-form-field class="full-width">
        <input matInput type="text" placeholder="Company Name" formControlName="companyname" required>
        <mat-error *ngFor="let validation of account_validation_messages.companyname">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('companyname').hasError(validation.type) && (accountDetailsForm.get('companyname').dirty || accountDetailsForm.get('companyname').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <table class="full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="full-width">
              <input matInput [matDatepicker]="picker" formControlName="Pstartdate" name="Pstartdate" matInput
                placeholder="Choose the Starting Date" required>
              <mat-datepicker-toggle matSuffix [for]="picker">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error class="error-message" *ngIf="accountDetailsForm.controls['Pstartdate'].hasError('required')">
                Start Date is required
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="full-width">
              <input matInput [matDatepicker]="picker" formControlName="Penddate" name="Penddate" matInput
                placeholder="Choose the Ending Date" required>
              <mat-datepicker-toggle matSuffix [for]="picker">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error class="error-message" *ngIf="accountDetailsForm.controls['Penddate'].hasError('required')">
                End Date is required
              </mat-error>
            </mat-form-field>
          </td>
        </tr>
      </table>

      <p>
        <mat-form-field class="full-width">
          <textarea matInput placeholder="Duties and Responsibilties" formControlName="duties" required></textarea>
          <mat-error *ngFor="let validation of account_validation_messages.duties">
            <mat-error class="error-message"
              *ngIf="accountDetailsForm.get('duties').hasError(validation.type) && (accountDetailsForm.get('duties').dirty || accountDetailsForm.get('duties').touched)">
              {{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </p>
    </div>

    <!--Academic Qualifications-->

    <div formGroupName="academicQualificationForm">
      <mat-form-field class="full-width">
        <input matInput type="text" placeholder="Institution Name" formControlName="institutionname" required>
        <mat-error *ngFor="let validation of account_validation_messages.institutionname">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('institutionname').hasError(validation.type) && (accountDetailsForm.get('institutionname').dirty || accountDetailsForm.get('institutionname').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <table class="full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="full-width">
              <input matInput [matDatepicker]="picker" formControlName="Astartdate" name="Astartdate" matInput
                placeholder="Choose the Starting Date" required>
              <mat-datepicker-toggle matSuffix [for]="picker">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error class="error-message" *ngIf="accountDetailsForm.controls['Astartdate'].hasError('required')">
                Start Date is required
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="full-width">
              <input matInput [matDatepicker]="picker" formControlName="Aenddate" name="Aenddate" matInput
                placeholder="Choose the Ending Date" required>
              <mat-datepicker-toggle matSuffix [for]="picker">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error class="error-message" *ngIf="accountDetailsForm.controls['Aenddate'].hasError('required')">
                End Date is required
              </mat-error>
            </mat-form-field>
          </td>
        </tr>
      </table>

      <p>
        <mat-form-field class="full-width">
          <textarea matInput placeholder="Qualification" formControlName="merit" required></textarea>
          <mat-error *ngFor="let validation of account_validation_messages.merit">
            <mat-error class="error-message"
              *ngIf="accountDetailsForm.get('merit').hasError(validation.type) && (accountDetailsForm.get('merit').dirty || accountDetailsForm.get('merit').touched)">
              {{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>
      </p>
    </div>

    <!--Professional Qualification-->

    <mat-form-field class="full-width">
      <textarea matInput placeholder="Professional Qualification"
        matTooltip="Enter your Professional Qualifications separating each with a comma"
        formControlName="pqualification" required></textarea>
      <mat-error *ngFor="let validation of account_validation_messages.pqualification">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('pqualification').hasError(validation.type) && (accountDetailsForm.get('pqualification').dirty || accountDetailsForm.get('pqualification').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <!--Special Skills and Talents-->

    <mat-form-field class="full-width">
      <textarea matInput placeholder="Special Skills And Talents"
        matTooltip="Enter your skills and talents separating each with a comma" formControlName="skills"
        required></textarea>
      <mat-error *ngFor="let validation of account_validation_messages.skills">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('skills').hasError(validation.type) && (accountDetailsForm.get('skills').dirty || accountDetailsForm.get('skills').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <!--Membership-->

    <mat-form-field class="full-width">
      <textarea matInput placeholder="Membership" formControlName="membership"
        matTooltip="Enter your memberships details" required></textarea>
      <mat-error *ngFor="let validation of account_validation_messages.membership">
        <mat-error class="error-message"
          *ngIf="accountDetailsForm.get('membership').hasError(validation.type) && (accountDetailsForm.get('membership').dirty || accountDetailsForm.get('membership').touched)">
          {{validation.message}}</mat-error>
      </mat-error>
    </mat-form-field>

    <!--Referees-->

    <div formGroupName="refereeForm">
      <mat-form-field class="full-width">
        <input matInput placeholder="Title" formControlName="refereetitle">
      </mat-form-field>

      <table class="full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="full-width">
              <input type="text" matInput placeholder="First name" formControlName="refereefname">
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="full-width">
              <input type="text" matInput placeholder="Last Name" formControlName="refereelname">
            </mat-form-field>
          </td>
        </tr>
      </table>

      <p>
        <mat-form-field class="full-width">
          <textarea matInput placeholder="Address" formControlName="refereeAddress"></textarea>
        </mat-form-field>
      </p>

      <table class="full-width" cellspacing="0">
        <tr>
          <td>
            <mat-form-field class="full-width">
              <input type="email" matInput placeholder="Referee Email" formControlName="refereeEmail">
              <mat-error *ngFor="let validation of account_validation_messages.refereeEmail">
                <mat-error class="error-message"
                  *ngIf="accountDetailsForm.get('refereeEmail').hasError(validation.type) && (accountDetailsForm.get('refereeEmail').dirty || accountDetailsForm.get('refereeEmail').touched)">
                  {{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>
          </td>
          <td>
            <mat-form-field class="full-width">
              <input matInput type="number" placeholder="Referee PhoneNumber" formControlName="refereePhonenumber">
              <mat-error *ngFor="let validation of account_validation_messages.refereePhonenumber">
                <mat-error class="error-message"
                  *ngIf="accountDetailsForm.get('refereePhonenumber').hasError(validation.type) && (accountDetailsForm.get('refereePhonenumber').dirty || accountDetailsForm.get('refereePhonenumber').touched)">
                  {{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>
          </td>
        </tr>
      </table>
    </div>

    <div class="mt-2">
      <div class="d-flex justify-content-center links">
        <button class="submit-btn" color="primary" mat-raised-button type="submit"
          [disabled]="!accountDetailsForm.valid">
          Submit
        </button></div>
    </div>
  </form>
</div>
<!-- 
use <div  *ngIf="isLastPage" class="submit-style"> 
if you want to hide button
-->
