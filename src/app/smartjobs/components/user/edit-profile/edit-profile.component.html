<app-header></app-header>
<div>
  <mat-toolbar color="primary" class="position-fixed">
    <div fxShow="true" fxHide.gt-sm="true">
      <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
    </div>
    <span> Profile</span>
    <div fxShow="true" fxHide.lt-md="true">
      <a mat-button (click)="tabToggle(1)">Personal Bio-Data</a>
      <a mat-button (click)="tabToggle(2)">Work Experience</a>
      <a mat-button (click)="tabToggle(3)">Academic Qualifications</a>
      <a mat-button (click)="tabToggle(4)">Professional Qualifications</a>
      <a mat-button (click)="tabToggle(5)">Special Skills & Talents</a>
      <a mat-button (click)="tabToggle(6)">Membership</a>
      <a mat-button (click)="tabToggle(7)">Referees</a>
    </div>

  </mat-toolbar>
  <mat-sidenav color="primary" #sidenav mode="over" opened="false" fxHide.gt-sm="true">
    <div fxLayout="column">
      <span> Profile</span>
      <a mat-button (click)="tabToggle(1)">Personal Bio-Data</a>
      <a mat-button (click)="tabToggle(2)">Work Experience</a>
      <a mat-button (click)="tabToggle(3)">Academic Qualifications</a>
      <a mat-button (click)="tabToggle(4)">Professional Qualifications</a>
      <a mat-button (click)="tabToggle(5)">Special Skills & Talents</a>
      <a mat-button (click)="tabToggle(6)">Membership</a>
      <a mat-button (click)="tabToggle(7)">Referees</a>
    </div>
  </mat-sidenav>

</div>



<div class="d-flex justify-content-center form_container">
  <form [formGroup]="accountDetailsForm" novalidate (ngSubmit)="onSubmitAccountDetails(accountDetailsForm.value)"
    [loader]="isLoading">

    <!--Personal Bio-Data-->
    <div *ngIf="showTab == 1">
      <mat-form-field class="full-width">
        <input matInput type="text" placeholder="Last Name" #lastname formControlName="lastname" required>
        <mat-error *ngFor="let validation of account_validation_messages.lastname">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('lastname').hasError(validation.type) && (accountDetailsForm.get('lastname').dirty || accountDetailsForm.get('lastname').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>


      <mat-form-field class="full-width">
        <mat-label>Gender</mat-label>
        <mat-select formControlName="gender" name="gender" matInput placeholder="Gender" required>
          <mat-option *ngFor="let gender of genders" [value]="gender.value">
            {{gender.viewValue}}
          </mat-option>
        </mat-select>
        <mat-error class="error-message" *ngIf="accountDetailsForm.controls['gender'].hasError('required')">Gender is
          required</mat-error>
      </mat-form-field>


      <mat-form-field class="full-width">
        <input matInput type="text" placeholder="First Name" formControlName="firstname" required>
        <mat-error *ngFor="let validation of account_validation_messages.firstname">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('firstname').hasError(validation.type) && (accountDetailsForm.get('firstname').dirty || accountDetailsForm.get('firstname').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput type="number" placeholder="National Identification" formControlName="IDnumber" required>
        <mat-error *ngFor="let validation of account_validation_messages.IDnumber">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('IDnumber').hasError(validation.type) && (accountDetailsForm.get('IDnumber').dirty || accountDetailsForm.get('IDnumber').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput type="number" placeholder="Phone Number" formControlName="phonenumber" required>
        <mat-error *ngFor="let validation of account_validation_messages.phonenumber">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('phonenumber').hasError(validation.type) && (accountDetailsForm.get('phonenumber').dirty || accountDetailsForm.get('phonenumber').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput type="email" placeholder="Email" formControlName="email" required>
        <mat-error *ngFor="let validation of account_validation_messages.email">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('email').hasError(validation.type) && (accountDetailsForm.get('email').dirty || accountDetailsForm.get('email').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput [matDatepicker]="picker" formControlName="dateofbirth" name="dateofbirth" matInput
          placeholder="Date Of Birth" required>
        <mat-datepicker-toggle matSuffix [for]="picker">
          <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
        </mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <mat-error class="error-message" *ngIf="accountDetailsForm.controls['dateofbirth'].hasError('required')">
          Date of birth is required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width">
        <input matInput type="text" placeholder="Address" formControlName="address" required>
        <mat-error *ngFor="let validation of account_validation_messages.address">
          <mat-error class="error-message"
            *ngIf="accountDetailsForm.get('address').hasError(validation.type) && (accountDetailsForm.get('address').dirty || accountDetailsForm.get('address').touched)">
            {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>


    <!--Work Experience-->
    <div *ngIf="showTab == 2">
      <div formGroupName="workexperience">
        <mat-form-field class="full-width">
          <input matInput type="text" placeholder="Company Name" formControlName="wCompanyname" required>
          <mat-error *ngFor="let validation of account_validation_messages.wCompanyname">
            <mat-error class="error-message"
              *ngIf="accountDetailsForm.get('workexperience').get('wCompanyname').hasError(validation.type) && (accountDetailsForm.get('workexperience').get('wCompanyname').dirty || accountDetailsForm.get('workexperience').get('wCompanyname').touched)">
              {{validation.message}}</mat-error>
          </mat-error>
        </mat-form-field>

        <table class="full-width" cellspacing="0">
          <tr>
            <td>
              <mat-form-field class="full-width">
                <input matInput [matDatepicker]="picker3" formControlName="Pstartdate" name="Pstartdate" matInput
                  placeholder="Choose the Starting Date" required>
                <mat-datepicker-toggle matSuffix [for]="picker3">
                  <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker3></mat-datepicker>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width">
                <input matInput [matDatepicker]="picker4" formControlName="Penddate" name="Penddate" matInput
                  placeholder="Choose the Ending Date" required>
                <mat-datepicker-toggle matSuffix [for]="picker4">
                  <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker4></mat-datepicker>
              </mat-form-field>
            </td>
          </tr>
        </table>

        <p>
          <mat-form-field class="full-width">
            <textarea matInput placeholder="Duties and Responsibilties" formControlName="duties"
              matTooltip="Enter your Duties and Responsibilties separating each with a comma" required></textarea>
            <mat-error *ngFor="let validation of account_validation_messages.duties">
              <mat-error class="error-message"
                *ngIf="accountDetailsForm.get('workexperience').get('duties').hasError(validation.type) && (accountDetailsForm.get('workexperience').get('duties').dirty || accountDetailsForm.get('workexperience').get('duties').touched)">
                {{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>
        </p>
      </div>
    </div>

    <!--Academic Qualifications-->
    <div *ngIf="showTab == 3">
      <div formGroupName="academicQualification">
        <mat-form-field class="full-width">
          <input matInput type="text" placeholder="Institution Name" formControlName="institutionname" required>
        </mat-form-field>

        <table class="full-width" cellspacing="0">
          <tr>
            <td>
              <mat-form-field class="full-width">
                <input matInput [matDatepicker]="picker1" formControlName="Astartdate" name="Astartdate" matInput
                  placeholder="Choose the Starting Date" required>
                <mat-datepicker-toggle matSuffix [for]="picker1">
                  <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width">
                <input matInput [matDatepicker]="picker2" formControlName="Aenddate" name="Aenddate" matInput
                  placeholder="Choose the Ending Date" required>
                <mat-datepicker-toggle matSuffix [for]="picker">
                  <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </td>
          </tr>
        </table>

        <p>
          <mat-form-field class="full-width">
            <textarea matInput placeholder="Qualification" formControlName="merit" required></textarea>
            <mat-error *ngFor="let validation of account_validation_messages.merit">
              <mat-error class="error-message"
                *ngIf="accountDetailsForm.get('academicQualification').get('merit').hasError(validation.type) && (accountDetailsForm.get('academicQualification').get('merit').dirty || accountDetailsForm.get('academicQualification').get('merit').touched)">
                {{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>
        </p>
      </div>
    </div>

    <!--Professional Qualification-->
    <div *ngIf="showTab == 4">
      <mat-form-field class="full-width">
        <textarea matInput placeholder="Professional Qualification"
          matTooltip="Enter your Professional Qualifications separating each with a comma"
          formControlName="pqualification"></textarea>
      </mat-form-field>
    </div>

    <!--Special Skills and Talents-->
    <div *ngIf="showTab == 5">
      <mat-form-field class="full-width">
        <textarea matInput placeholder="Special Skills And Talents"
          matTooltip="Enter your skills and talents separating each with a comma" formControlName="skills"></textarea>
      </mat-form-field>
    </div>

    <!--Membership-->
    <div *ngIf="showTab == 6">
      <mat-form-field class="full-width">
        <textarea matInput placeholder="Membership" formControlName="membership"
          matTooltip="Enter your memberships details"></textarea>
      </mat-form-field>
    </div>
    <!--Referees-->
    <div *ngIf="showTab == 7">
      <div formGroupName="referees" name="refereeForm">
        <mat-form-field class="full-width">
          <input matInput type="text" placeholder="Title" formControlName="refereetitle">
        </mat-form-field>

        <table class="full-width" cellspacing="0">
          <tr>
            <td>
              <mat-form-field class="full-width">
                <input type="text" matInput placeholder="First name" formControlName="refereefname">
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width">
                <input type="text" matInput placeholder="Last Name" formControlName="refereelname">
              </mat-form-field>
            </td>
          </tr>
        </table>

        <p>
          <mat-form-field class="full-width">
            <textarea matInput placeholder="Address" formControlName="refereeAddress"></textarea>
          </mat-form-field>
        </p>

        <table class="full-width" cellspacing="0">
          <tr>
            <td>
              <mat-form-field class="full-width">
                <input type="email" matInput placeholder="Referee Email" formControlName="refereeEmail">
                <mat-error *ngFor="let validation of account_validation_messages.refereeEmail">
                  <mat-error class="error-message"
                    *ngIf="accountDetailsForm.get('referees').get('refereeEmail').hasError(validation.type) && (accountDetailsForm.get('referees').get('refereeEmail').dirty || accountDetailsForm.get('referees').get('refereeEmail').touched)">
                    {{validation.message}}</mat-error>
                </mat-error>
              </mat-form-field>
            </td>
            <td>
              <mat-form-field class="full-width">
                <input matInput type="number" placeholder="Referee PhoneNumber" formControlName="refereePhonenumber">
                <mat-error *ngFor="let validation of account_validation_messages.refereePhonenumber">
                  <mat-error class="error-message"
                    *ngIf="accountDetailsForm.get('referees').get('refereePhonenumber').hasError(validation.type) && (accountDetailsForm.get('referees').get('refereePhonenumber').dirty || accountDetailsForm.get('referees').get('refereePhonenumber').touched)">
                    {{validation.message}}</mat-error>
                </mat-error>
              </mat-form-field>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <!--Submit-->

    <div class="mt-2">
      <div class="d-flex justify-content-center links">
        <div matTooltip="Fill in all the *required details before submitting"
          [matTooltipDisabled]="accountDetailsForm.valid">
          <button class="submit-btn" color="primary" mat-raised-button type="submit"
            [disabled]="!accountDetailsForm.valid">
            Submit
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
<!-- 
use <div  *ngIf="isLastPage" class="submit-style"> 
if you want to hide button
-->
